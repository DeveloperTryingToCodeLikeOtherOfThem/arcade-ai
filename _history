{"entries":[{"timestamp":1762458976244,"editorVersion":"2.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":4870,"diffs":[[1," "]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":216,"length1":45,"diffs":[[1,"    \"languageRestriction\": \"javascript-only\",\n    \"additionalFilePaths\": []\n"]]}]}]},{"timestamp":1762459586870,"editorVersion":"2.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":4828,"length1":8,"diffs":[[1,""]]}]}]},{"timestamp":1762459595833,"editorVersion":"2.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":4821,"length1":12,"diffs":[[1,""]]},{"start1":4828,"length1":0,"diffs":[[1,"\r\n    \r\n"]]}]}]},{"timestamp":1762460261913,"editorVersion":"2.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":2641,"length1":82,"diffs":[[1,"                CELL_WIDTH * Math.min(this.answerLength, ALPHABET_ROW_LENGTH)) / 2);\r\n"]]}]}]},{"timestamp":1762460268571,"editorVersion":"2.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":2641,"length1":86,"diffs":[[1,"                CELL_WIDTH * Math.min(this.answerLength, ALPHABET_ROW_LENGTH)));\r\n"]]},{"start1":2892,"length1":0,"diffs":[[1,"\r\n"]]},{"start1":3095,"length1":56,"diffs":[[1,"                    INPUT_TOP + row * CELL_HEIGHT,\r\n"]]},{"start1":3180,"length1":74,"diffs":[[1,"                    CELL_HEIGHT,\r\n"]]},{"start1":3258,"length1":21,"diffs":[[1,"                );\r\n"]]},{"start1":3293,"length1":5,"diffs":[[1,"\r\n"]]},{"start1":3389,"length1":115,"diffs":[[1,"                INPUT_TOP + row * CELL_HEIGHT + CELL_HEIGHT - 1,\r\n                CELL_WIDTH - BLANK_PADDING * 2,\r\n"]]},{"start1":3912,"length1":74,"diffs":[[1,"                    INPUT_TOP + row * CELL_HEIGHT + LETTER_OFFSET_Y,\r\n"]]},{"start1":4030,"length1":27,"diffs":[[1,"                    font\r\n"]]},{"start1":4102,"length1":4,"diffs":[[1,"\r\n"]]},{"start1":4578,"length1":74,"diffs":[[1,"                        INPUT_TOP + row * CELL_HEIGHT,\r\n"]]},{"start1":4817,"length1":0,"diffs":[[1,"    \r\n    \r\n"]]}]}]},{"timestamp":1762460878450,"editorVersion":"2.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":343,"length1":54,"diffs":[[1,"const CONTENT_WIDTH = screen.width - PADDING * 2;\r\n"]]}]}]},{"timestamp":1762460879184,"editorVersion":"2.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":343,"length1":51,"diffs":[[1,"// const CONTENT_WIDTH = screen.width - PADDING * 2;\r\n"]]},{"start1":1058,"length1":54,"diffs":[[1,"// Dimensions of the bottom bar\r\n//% whenUsed=true\r\nconst BOTTOM_BAR_ALPHABET_MARGIN = 4;\r\n//% whenUsed=true\r\nconst BOTTOM_BAR_HEIGHT = PADDING + BOTTOM_BAR_ALPHABET_MARGIN + CELL_HEIGHT;\r\n//% whenUsed=true\r\nconst BOTTOM_BAR_BUTTON_WIDTH = PADDING * 2 + font.charWidth * 3;\r\n//% whenUsed=true\r\nconst BOTTOM_BAR_TEXT_Y = (BOTTOM_BAR_HEIGHT - font.charHeight) / 2;\r\n//% whenUsed=true\r\nconst BOTTOM_BAR_SHIFT_X = (BOTTOM_BAR_BUTTON_WIDTH - font.charWidth * 3) / 2;\r\n//% whenUsed=true\r\nconst BOTTOM_BAR_CONFIRM_X = (BOTTOM_BAR_BUTTON_WIDTH - font.charWidth * 2) / 2;\r\n//% whenUsed=true\r\nconst CONFIRM_BUTTON_LEFT = screen.width - BOTTOM_BAR_BUTTON_WIDTH;\r\n"]]},{"start1":2184,"length1":0,"diffs":[[1,"//% whenUsed=true\r\nconst lowerShiftText = \"ABC\";\r\n//% whenUsed=true\r\nconst upperShiftText = \"abc\";\r\n//% whenUsed=true\r\nconst digitsUpper = [\" \", \",\", \".\", \"?\", \"!\", \":\", \";\", \"\\\"\", \"(\", \")\"];\r\n//% whenUsed=true\r\nconst confirmText = \"OK\";\r\n\r\n"]]},{"start1":3442,"length1":70,"diffs":[[1,"                INPUT_TOP + row * CELL_HEIGHT + CELL_HEIGHT * 4 - 1,\r\n"]]},{"start1":3965,"length1":74,"diffs":[[1,"                    INPUT_TOP + row * CELL_HEIGHT + CELL_HEIGHT * 4 - 8,\r\n"]]},{"start1":4638,"length1":74,"diffs":[[1,"                        INPUT_TOP + row * CELL_HEIGHT + CELL_HEIGHT * 3,\r\n"]]},{"start1":4902,"length1":454,"diffs":[[1,""]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":2,"length1":25,"diffs":[[1,"    \"name\": \"Untitled\",\n"]]}]}]},{"timestamp":1762461482090,"editorVersion":"2.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":4459,"length1":38,"diffs":[[1,"            this.drawInputArea();\r\n"]]}]}]},{"timestamp":1762461496021,"editorVersion":"2.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":1658,"length1":30,"diffs":[[1,""]]},{"start1":1667,"length1":98,"diffs":[[1,""]]},{"start1":4332,"length1":35,"diffs":[[1,"            promptText.draw(screen, (screen.width >> 1) - (promptText.width >> 1), CONTENT_TOP, this.theme.colorPrompt, 0, 2)\r\n            // this.drawInputArea();\r\n"]]}]}]},{"timestamp":1762462063586,"editorVersion":"2.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":1658,"length1":0,"diffs":[[1,"        this.show = () => \"\"\r\n"]]},{"start1":1697,"length1":0,"diffs":[[1,"    static show: (message: string, answerLength: number, usingSimKeyboard: boolean) => string\r\n \r\n"]]},{"start1":4188,"length1":6,"diffs":[[1,"\r\n"]]}]}]},{"timestamp":1762462516140,"editorVersion":"2.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":99,"length1":3,"diffs":[[1,"\r\n"]]}]}]},{"timestamp":1762475283991,"editorVersion":"2.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":99,"length1":2,"diffs":[[1,"a\r\n"]]}]}]},{"timestamp":1762475451222,"editorVersion":"2.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":0,"diffs":[[1,"//% whenUsed=true\r\n"]]},{"start1":60,"length1":2,"diffs":[[1,"//% whenUsed=true\r\n"]]},{"start1":99,"length1":25,"diffs":[[1,""]]},{"start1":101,"length1":0,"diffs":[[1,"//% whenUsed=true\r\nconst NUM_LETTERS = 26;\r\n//% whenUsed=true\r\n"]]},{"start1":197,"length1":2,"diffs":[[1,"//% whenUsed=true\r\n"]]},{"start1":280,"length1":0,"diffs":[[1,"//% whenUsed=true\r\n"]]},{"start1":324,"length1":0,"diffs":[[1,"//% whenUsed=true\r\n"]]},{"start1":394,"length1":0,"diffs":[[1,"//% whenUsed=true\r\n"]]},{"start1":466,"length1":0,"diffs":[[1,"//% whenUsed=true\r\n"]]},{"start1":517,"length1":27,"diffs":[[1,"// Dimensions of a \"cell\" that contains a letter\r\n//% whenUsed=true\r\n"]]},{"start1":655,"length1":0,"diffs":[[1,"//% whenUsed=true\r\n"]]},{"start1":707,"length1":0,"diffs":[[1,"//% whenUsed=true\r\n"]]},{"start1":798,"length1":0,"diffs":[[1,"//% whenUsed=true\r\n"]]},{"start1":891,"length1":0,"diffs":[[1,"//% whenUsed=true\r\n"]]},{"start1":936,"length1":0,"diffs":[[1,"//% whenUsed=true\r\n"]]},{"start1":1053,"length1":0,"diffs":[[1,"\r\n"]]},{"start1":1147,"length1":0,"diffs":[[1,"//% whenUsed=true\r\n"]]},{"start1":1215,"length1":0,"diffs":[[1,"//% whenUsed=true\r\n"]]},{"start1":1324,"length1":0,"diffs":[[1,"//% whenUsed=true\r\n"]]},{"start1":1423,"length1":0,"diffs":[[1,"//% whenUsed=true\r\n"]]},{"start1":1490,"length1":0,"diffs":[[1,"//% whenUsed=true\r\n"]]},{"start1":4398,"length1":38,"diffs":[[1,"new Prompt().show(\"hi\", 12, false) "]]}]}]},{"timestamp":1762476052188,"editorVersion":"2.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":3997,"length1":35,"diffs":[[1,"new Prompt().show(\"hi\", 12, false) \r\na"]]}]}]},{"timestamp":1762476138360,"editorVersion":"2.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":70,"diffs":[[1,""]]},{"start1":1218,"length1":51,"diffs":[[1,"    constructor() {\r\n"]]},{"start1":1257,"length1":34,"diffs":[[1,""]]},{"start1":3990,"length1":4,"diffs":[[1,"}  \r\n"]]},{"start1":3997,"length1":940,"diffs":[[1,"new Prompt().show(\"hi\", 12, false) "]]}]}]},{"timestamp":1762476737708,"editorVersion":"2.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":4130,"length1":391,"diffs":[[1," export function chat(theme: PromptTheme) {\r\n\r\n"]]},{"start1":4183,"length1":839,"diffs":[[1," export function __getPromptTheme(col1 = 1, col2 = 3, col3 = 5, col4 = 1, col5  = 7, col6 = 15, col7 = 3, col) {\r\n  // default colors\r\n     /**\r\n      *                colorPrompt: 1,\r\n                       colorInput: 3,\r\n                       colorInputHighlighted: 5,\r\n                       colorInputText: 1,\r\n                       colorAlphabet: 1,\r\n                       colorCursor: 7,\r\n                       colorBackground: 15,\r\n                       colorBottomBackground: 3,\r\n                       colorBottomText: 1,\r\n"]]},{"start1":4914,"length1":30,"diffs":[[1,"      colorBackground: co7,\r\n"]]},{"start1":5020,"length1":0,"diffs":[[1,"\r\nnew game.prompt.Prompt().show(\"hi\", 12, false)\r\n"]]}]}]},{"timestamp":1762478370581,"editorVersion":"2.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":5666,"length1":1,"diffs":[[1,""]]}]}]},{"timestamp":1762478373172,"editorVersion":"2.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":5666,"length1":0,"diffs":[[1,"d"]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":185,"length1":44,"diffs":[[1,""]]}]},{"type":"added","filename":"test.ts","value":"// tests go here; this will not be compiled when this package is used as an extension.\n"},{"type":"added","filename":"main.blocks","value":"<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <variables></variables>\n  <block type=\"pxt-on-start\" x=\"0\" y=\"0\"></block>\n</xml>"}]}],"snapshots":[{"timestamp":1762458976243,"editorVersion":"2.0.61","text":{"main.ts":" ","README.md":" ","assets.json":"","pxt.json":"{\n    \"name\": \"Untitled\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"device\": \"*\"\n    },\n    \"files\": [\n        \"main.ts\",\n        \"README.md\",\n        \"assets.json\"\n    ],\n    \"preferredEditor\": \"tsprj\",\n    \"languageRestriction\": \"javascript-only\",\n    \"additionalFilePaths\": []\n}\n"}},{"timestamp":1762460778475,"editorVersion":"2.0.61","text":{"main.ts":"//% whenUsed=true\r\nconst font = image.font8; // FONT8-TODO\r\n//% whenUsed=true\r\nconst PADDING = 4;\r\n\r\n//% whenUsed=true\r\nconst NUM_LETTERS = 26;\r\n//% whenUsed=true\r\nconst ALPHABET_ROW_LENGTH = 12;\r\n//% whenUsed=true\r\nconst NUM_ROWS = Math.ceil(NUM_LETTERS / ALPHABET_ROW_LENGTH);\r\n//% whenUsed=true\r\nconst INPUT_ROWS = 2;\r\n\r\n//% whenUsed=true\r\nconst CONTENT_WIDTH = screen.width - PADDING * 2;\r\n//% whenUsed=true\r\nconst CONTENT_HEIGHT = screen.height - PADDING * 2;\r\n//% whenUsed=true\r\nconst CONTENT_TOP = PADDING;\r\n\r\n// Dimensions of a \"cell\" that contains a letter\r\n//% whenUsed=true\r\nconst CELL_WIDTH = Math.floor(CONTENT_WIDTH / ALPHABET_ROW_LENGTH);\r\n//% whenUsed=true\r\nconst CELL_HEIGHT = CELL_WIDTH;\r\n//% whenUsed=true\r\nconst LETTER_OFFSET_X = Math.floor((CELL_WIDTH - font.charWidth) / 2);\r\n//% whenUsed=true\r\nconst LETTER_OFFSET_Y = Math.floor((CELL_HEIGHT - font.charHeight) / 2);\r\n//% whenUsed=true\r\nconst BLANK_PADDING = 1;\r\n//% whenUsed=true\r\nconst ROW_LEFT = PADDING + Math.floor((CONTENT_WIDTH - (CELL_WIDTH * ALPHABET_ROW_LENGTH)) / 2);\r\n\r\n// Dimensions of the bottom bar\r\n//% whenUsed=true\r\nconst BOTTOM_BAR_ALPHABET_MARGIN = 4;\r\n//% whenUsed=true\r\nconst BOTTOM_BAR_HEIGHT = PADDING + BOTTOM_BAR_ALPHABET_MARGIN + CELL_HEIGHT;\r\n//% whenUsed=true\r\nconst BOTTOM_BAR_BUTTON_WIDTH = PADDING * 2 + font.charWidth * 3;\r\n//% whenUsed=true\r\nconst BOTTOM_BAR_TEXT_Y = (BOTTOM_BAR_HEIGHT - font.charHeight) / 2;\r\n//% whenUsed=true\r\nconst BOTTOM_BAR_SHIFT_X = (BOTTOM_BAR_BUTTON_WIDTH - font.charWidth * 3) / 2;\r\n//% whenUsed=true\r\nconst BOTTOM_BAR_CONFIRM_X = (BOTTOM_BAR_BUTTON_WIDTH - font.charWidth * 2) / 2;\r\n//% whenUsed=true\r\nconst CONFIRM_BUTTON_LEFT = screen.width - BOTTOM_BAR_BUTTON_WIDTH;\r\n\r\n// Dimensions of the alphabet area\r\n//% whenUsed=true\r\nconst ALPHABET_HEIGHT = NUM_ROWS * CELL_HEIGHT;\r\n//% whenUsed=true\r\nconst ALPHABET_TOP = CONTENT_TOP + CONTENT_HEIGHT - ALPHABET_HEIGHT - BOTTOM_BAR_HEIGHT;\r\n//% whenUsed=true\r\nconst ALPHABET_INPUT_MARGIN = 10;\r\n\r\n// Dimensions of area where text is input\r\n//% whenUsed=true\r\nconst INPUT_HEIGHT = INPUT_ROWS * CELL_HEIGHT;\r\n//% whenUsed=true\r\nconst INPUT_TOP = ALPHABET_TOP - INPUT_HEIGHT - ALPHABET_INPUT_MARGIN;\r\n\r\n//% whenUsed=true\r\nconst lowerShiftText = \"ABC\";\r\n//% whenUsed=true\r\nconst upperShiftText = \"abc\";\r\n//% whenUsed=true\r\nconst digitsUpper = [\" \", \",\", \".\", \"?\", \"!\", \":\", \";\", \"\\\"\", \"(\", \")\"];\r\n//% whenUsed=true\r\nconst confirmText = \"OK\";\r\n\r\nclass Prompt extends game.Prompt {\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    protected drawInputArea() {\r\n        const answerLeft = ROW_LEFT + Math.floor(\r\n            ((CELL_WIDTH * ALPHABET_ROW_LENGTH) -\r\n                CELL_WIDTH * Math.min(this.answerLength, ALPHABET_ROW_LENGTH)) / 2);\r\n\r\n        for (let i = 0; i < this.answerLength; i++) {\r\n            const col = i % ALPHABET_ROW_LENGTH;\r\n            const row = Math.floor(i / ALPHABET_ROW_LENGTH);\r\n            if (this.selectionStart !== this.selectionEnd && i >= this.selectionStart && i < this.selectionEnd) {\r\n                screen.fillRect(\r\n                    answerLeft + col * CELL_WIDTH,\r\n                    INPUT_TOP + row * CELL_HEIGHT * 2,\r\n                    CELL_WIDTH,\r\n                    INPUT_TOP + row * CELL_HEIGHT + CELL_HEIGHT * 4 - 1,\r\n                    this.theme.colorCursor\r\n                ); \r\n            }\r\n   \r\n            screen.fillRect(\r\n                answerLeft + col * CELL_WIDTH + BLANK_PADDING,\r\n                INPUT_TOP + row * CELL_HEIGHT + CELL_HEIGHT * 4 - 1,\r\n                CELL_WIDTH - BLANK_PADDING,\r\n                1,\r\n                !this.useSystemKeyboard && !this.blink() && i === this.selectionStart ? this.theme.colorInputHighlighted : this.theme.colorInput\r\n            );\r\n\r\n            if (i < this.result.length) {\r\n                const char = this.result.charAt(i);\r\n                screen.print(\r\n                    char,\r\n                    answerLeft + col * CELL_WIDTH + LETTER_OFFSET_X,\r\n                    INPUT_TOP + row * CELL_HEIGHT + LETTER_OFFSET_Y,\r\n                    this.theme.colorInputText,\r\n                    font\r\n                );\r\n            }\r\n        }\r\n  \r\n        // draw the blinking text cursor\r\n        if (this.useSystemKeyboard) {\r\n            if (this.selectionStart === this.selectionEnd && this.selectionStart < this.answerLength) {\r\n                const col = this.selectionStart % ALPHABET_ROW_LENGTH;\r\n                const row = Math.floor(this.selectionStart / ALPHABET_ROW_LENGTH);\r\n                if (!this.blink()) {\r\n                    screen.fillRect(\r\n                        answerLeft + col * CELL_WIDTH,\r\n                        INPUT_TOP + row * CELL_HEIGHT,\r\n                        1,\r\n                        CELL_HEIGHT,\r\n                        this.theme.colorCursor\r\n                    );\r\n                }\r\n            }\r\n        }\r\n    }\r\n}  \r\n\r\nnew Prompt().show(\"hi\", 12, false) ","README.md":" ","assets.json":"","pxt.json":"{\n    \"name\": \"Untitled\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"device\": \"*\"\n    },\n    \"files\": [\n        \"main.ts\",\n        \"README.md\",\n        \"assets.json\"\n    ],\n    \"preferredEditor\": \"tsprj\",\n    \"languageRestriction\": \"javascript-only\"\n}\n"}},{"timestamp":1762475283991,"editorVersion":"2.0.61","text":{"main.ts":"//% whenUsed=true\r\nconst font = image.font8; // FONT8-TODO\r\n//% whenUsed=true\r\nconst PADDING = 4;\r\n\r\n//% whenUsed=true\r\nconst NUM_LETTERS = 26;\r\n//% whenUsed=true\r\nconst ALPHABET_ROW_LENGTH = 12;\r\n//% whenUsed=true\r\nconst NUM_ROWS = Math.ceil(NUM_LETTERS / ALPHABET_ROW_LENGTH);\r\n//% whenUsed=true\r\nconst INPUT_ROWS = 2;\r\n\r\n//% whenUsed=true\r\nconst CONTENT_WIDTH = screen.width - PADDING * 2;\r\n//% whenUsed=true\r\nconst CONTENT_HEIGHT = screen.height - PADDING * 2;\r\n//% whenUsed=true\r\nconst CONTENT_TOP = PADDING;\r\n\r\n// Dimensions of a \"cell\" that contains a letter\r\n//% whenUsed=true\r\nconst CELL_WIDTH = Math.floor(CONTENT_WIDTH / ALPHABET_ROW_LENGTH);\r\n//% whenUsed=true\r\nconst CELL_HEIGHT = CELL_WIDTH;\r\n//% whenUsed=true\r\nconst LETTER_OFFSET_X = Math.floor((CELL_WIDTH - font.charWidth) / 2);\r\n//% whenUsed=true\r\nconst LETTER_OFFSET_Y = Math.floor((CELL_HEIGHT - font.charHeight) / 2);\r\n//% whenUsed=true\r\nconst BLANK_PADDING = 1;\r\n//% whenUsed=true\r\nconst ROW_LEFT = PADDING + Math.floor((CONTENT_WIDTH - (CELL_WIDTH * ALPHABET_ROW_LENGTH)) / 2);\r\n\r\nconst BOTTOM_BAR_HEIGHT = PADDING + 4 + CELL_HEIGHT;\r\n\r\n// Dimensions of the alphabet area\r\n//% whenUsed=true\r\nconst ALPHABET_HEIGHT = NUM_ROWS * CELL_HEIGHT;\r\n//% whenUsed=true\r\nconst ALPHABET_TOP = CONTENT_TOP + CONTENT_HEIGHT - ALPHABET_HEIGHT - BOTTOM_BAR_HEIGHT;\r\n//% whenUsed=true\r\nconst ALPHABET_INPUT_MARGIN = 10;\r\n\r\n// Dimensions of area where text is input\r\n//% whenUsed=true\r\nconst INPUT_HEIGHT = INPUT_ROWS * CELL_HEIGHT;\r\n//% whenUsed=true\r\nconst INPUT_TOP = ALPHABET_TOP - INPUT_HEIGHT - ALPHABET_INPUT_MARGIN;\r\n\r\nclass Prompt extends game.Prompt {\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    protected drawInputArea() {\r\n        const answerLeft = ROW_LEFT + Math.floor(\r\n            ((CELL_WIDTH * ALPHABET_ROW_LENGTH) -\r\n                CELL_WIDTH * Math.min(this.answerLength, ALPHABET_ROW_LENGTH)) / 2);\r\n\r\n        for (let i = 0; i < this.answerLength; i++) {\r\n            const col = i % ALPHABET_ROW_LENGTH;\r\n            const row = Math.floor(i / ALPHABET_ROW_LENGTH);\r\n            if (this.selectionStart !== this.selectionEnd && i >= this.selectionStart && i < this.selectionEnd) {\r\n                screen.fillRect(\r\n                    answerLeft + col * CELL_WIDTH,\r\n                    INPUT_TOP + row * CELL_HEIGHT * 2,\r\n                    CELL_WIDTH,\r\n                    INPUT_TOP + row * CELL_HEIGHT + CELL_HEIGHT * 4 - 1,\r\n                    this.theme.colorCursor\r\n                ); \r\n            }\r\n   \r\n            screen.fillRect(\r\n                answerLeft + col * CELL_WIDTH + BLANK_PADDING,\r\n                INPUT_TOP + row * CELL_HEIGHT + CELL_HEIGHT * 7 - 1,\r\n                CELL_WIDTH - BLANK_PADDING,\r\n                1,\r\n                !this.useSystemKeyboard && !this.blink() && i === this.selectionStart ? this.theme.colorInputHighlighted : this.theme.colorInput\r\n            );\r\n\r\n            if (i < this.result.length) {\r\n                const char = this.result.charAt(i);\r\n                screen.print(\r\n                    char,\r\n                    answerLeft + col * CELL_WIDTH + LETTER_OFFSET_X,\r\n                    INPUT_TOP + row * CELL_HEIGHT + CELL_HEIGHT * 7 - 8,\r\n                    this.theme.colorInputText,\r\n                    font \r\n                );\r\n            }\r\n        }\r\n  \r\n        // draw the blinking text cursor\r\n        if (this.useSystemKeyboard) {\r\n            if (this.selectionStart === this.selectionEnd && this.selectionStart < this.answerLength) {\r\n                const col = this.selectionStart % ALPHABET_ROW_LENGTH;\r\n                const row = Math.floor(this.selectionStart / ALPHABET_ROW_LENGTH);\r\n                if (!this.blink()) {\r\n                    screen.fillRect(\r\n                        answerLeft + col * CELL_WIDTH,\r\n                        INPUT_TOP + row * CELL_HEIGHT + CELL_HEIGHT * 6,\r\n                        1,\r\n                        CELL_HEIGHT,\r\n                        this.theme.colorCursor\r\n                    );\r\n                }\r\n            }\r\n        }\r\n    }\r\n    \r\n    protected createRenderable() {\r\n        if (this.renderable) {\r\n            this.renderable.destroy();\r\n        }\r\n\r\n        const promptText = new sprites.RenderText(this.message, CONTENT_WIDTH);\r\n    \r\n        this.renderable = scene.createRenderable(-1, () => {\r\n            this.drawInputArea();\r\n        });\r\n    }\r\n}  \r\n\r\nnew Prompt().show(\"hi\", 12, false) ","README.md":" ","assets.json":"","pxt.json":"{\n    \"name\": \"arcade-AI\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"device\": \"*\"\n    },\n    \"files\": [\n        \"main.ts\",\n        \"README.md\",\n        \"assets.json\"\n    ],\n    \"preferredEditor\": \"tsprj\",\n    \"languageRestriction\": \"javascript-only\"\n}\n"}},{"timestamp":1762477087231,"editorVersion":"2.0.61","text":{"main.ts":"// ref from pxt_modules/libs/game/prompt.ts\r\nnamespace game.prompt {\r\nconst font = image.font8; // FONT8-TODO\r\n\r\nconst PADDING = 4;\r\nconst NUM_LETTERS = 26;\r\n\r\nconst ALPHABET_ROW_LENGTH = 12;\r\n\r\nconst NUM_ROWS = Math.ceil(NUM_LETTERS / ALPHABET_ROW_LENGTH);\r\nconst INPUT_ROWS = 2;\r\n\r\nconst CONTENT_WIDTH = screen.width - PADDING * 2;\r\nconst CONTENT_HEIGHT = screen.height - PADDING * 2;\r\nconst CONTENT_TOP = PADDING;\r\n\r\n// Dimensions of a \"cell\"\r\nconst CELL_WIDTH = Math.floor(CONTENT_WIDTH / ALPHABET_ROW_LENGTH);\r\nconst CELL_HEIGHT = CELL_WIDTH;\r\nconst LETTER_OFFSET_X = Math.floor((CELL_WIDTH - font.charWidth) / 2);\r\nconst LETTER_OFFSET_Y = Math.floor((CELL_HEIGHT - font.charHeight) / 2);\r\nconst BLANK_PADDING = 1;\r\nconst ROW_LEFT = PADDING + Math.floor((CONTENT_WIDTH - (CELL_WIDTH * ALPHABET_ROW_LENGTH)) / 2);\r\nconst BOTTOM_BAR_HEIGHT = PADDING + 4 + CELL_HEIGHT;\r\n\r\n// Dimensions of the alphabet area\r\nconst ALPHABET_HEIGHT = NUM_ROWS * CELL_HEIGHT;\r\nconst ALPHABET_TOP = CONTENT_TOP + CONTENT_HEIGHT - ALPHABET_HEIGHT - BOTTOM_BAR_HEIGHT;\r\nconst ALPHABET_INPUT_MARGIN = 10;\r\n\r\n// Dimensions of area where text is input\r\nconst INPUT_HEIGHT = INPUT_ROWS * CELL_HEIGHT;\r\nconst INPUT_TOP = ALPHABET_TOP - INPUT_HEIGHT - ALPHABET_INPUT_MARGIN;\r\n\r\nclass Prompt extends game.Prompt {\r\n    constructor(promptTheme?: game.PromptTheme) {\r\n        super();\r\n        this.theme = promptTheme\r\n    }\r\n\r\n    protected drawInputArea() {\r\n        const answerLeft = ROW_LEFT + Math.floor(\r\n            ((CELL_WIDTH * ALPHABET_ROW_LENGTH) -\r\n                CELL_WIDTH * Math.min(this.answerLength, ALPHABET_ROW_LENGTH)) / 2);\r\n\r\n        for (let i = 0; i < this.answerLength; i++) {\r\n            const col = i % ALPHABET_ROW_LENGTH;\r\n            const row = Math.floor(i / ALPHABET_ROW_LENGTH);\r\n            if (this.selectionStart !== this.selectionEnd && i >= this.selectionStart && i < this.selectionEnd) {\r\n                screen.fillRect(\r\n                    answerLeft + col * CELL_WIDTH,\r\n                    INPUT_TOP + row * CELL_HEIGHT * 2,\r\n                    CELL_WIDTH,\r\n                    INPUT_TOP + row * CELL_HEIGHT + CELL_HEIGHT * 4 - 1,\r\n                    this.theme.colorCursor\r\n                ); \r\n            }\r\n   \r\n            screen.fillRect(\r\n                answerLeft + col * CELL_WIDTH + BLANK_PADDING,\r\n                INPUT_TOP + row * CELL_HEIGHT + CELL_HEIGHT * 7 - 1,\r\n                CELL_WIDTH - BLANK_PADDING,\r\n                1,\r\n                !this.useSystemKeyboard && !this.blink() && i === this.selectionStart ? this.theme.colorInputHighlighted : this.theme.colorInput\r\n            );\r\n\r\n            if (i < this.result.length) {\r\n                const char = this.result.charAt(i);\r\n                screen.print(\r\n                    char,\r\n                    answerLeft + col * CELL_WIDTH + LETTER_OFFSET_X,\r\n                    INPUT_TOP + row * CELL_HEIGHT + CELL_HEIGHT * 7 - 8,\r\n                    this.theme.colorInputText,\r\n                    font \r\n                );\r\n            }\r\n        }\r\n  \r\n        // draw the blinking text cursor\r\n        if (this.useSystemKeyboard) {\r\n            if (this.selectionStart === this.selectionEnd && this.selectionStart < this.answerLength) {\r\n                const col = this.selectionStart % ALPHABET_ROW_LENGTH;\r\n                const row = Math.floor(this.selectionStart / ALPHABET_ROW_LENGTH);\r\n                if (!this.blink()) {\r\n                    screen.fillRect(\r\n                        answerLeft + col * CELL_WIDTH,\r\n                        INPUT_TOP + row * CELL_HEIGHT + CELL_HEIGHT * 6,\r\n                        1,\r\n                        CELL_HEIGHT,\r\n                        this.theme.colorCursor\r\n                    );\r\n                }\r\n            }\r\n        }\r\n    }\r\n    \r\n    protected createRenderable() {\r\n        if (this.renderable) {\r\n            this.renderable.destroy();\r\n        }\r\n\r\n        const promptText = new sprites.RenderText(this.message, CONTENT_WIDTH);\r\n    \r\n        this.renderable = scene.createRenderable(-1, () => {\r\n            this.drawInputArea();\r\n        });\r\n    }\r\n }\r\n\r\n //% block=\"%theme=getPromptTheme\" weight=100\r\n    export function chat(message: string, answerLength: number, theme: PromptTheme) {\r\n   const prompt = new Prompt(theme)\r\n   return prompt.show(message, answerLength)\r\n }\r\n\r\n   //% blockId=\"game_prompt__getPromptTheme\"\r\n   //% block=\"get prompt theme %col1 %col2 %col3 %col4 %col5 %col6 %col7 %col8 %col9\"\r\n   //% col1.defl=1 \r\n   //% col2.defl=3 \r\n   //% col3.defl=5\r\n   //% col4.defl=1\r\n   //% col5.defl=1\r\n   //% col6.defl=7\r\n   //% col7.defl=15 \r\n   //% col8.defl=3\r\n   //% col9.defl=1\r\n   //% weight=99\r\n export function __getPromptTheme(col1 = 1, col2 = 3, col3 = 5, col4 = 1, col5  = 1, col6 = 7, col7 = 15, col8 = 3, col9 = 1): PromptTheme {\r\n     /**        default colors\r\n      *         colorPrompt: 1,\r\n                colorInput: 3,\r\n                colorInputHighlighted: 5,\r\n                colorInputText: 1,\r\n                colorAlphabet: 1,\r\n                colorCursor: 7,\r\n                colorBackground: 15,\r\n                colorBottomBackground: 3,\r\n                colorBottomText: 1,\r\n     */\r\n\r\n  return {\r\n      colorPrompt: col1,\r\n      colorInput: col2,\r\n      colorInputHighlighted: col3,\r\n      colorInputText: col4,\r\n      colorAlphabet: col5,\r\n      colorCursor: col6,\r\n      colorBackground: col7,\r\n      colorBottomBackground: col8,\r\n      colorBottomText: col9\r\n  }\r\n }\r\n}\r\n\r\nnew game.prompt.Prompt().show(\"hi\", 12, false)\r\n","README.md":" ","assets.json":"","pxt.json":"{\n    \"name\": \"arcade-AI\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"device\": \"*\"\n    },\n    \"files\": [\n        \"main.ts\",\n        \"README.md\",\n        \"assets.json\"\n    ],\n    \"preferredEditor\": \"tsprj\",\n    \"languageRestriction\": \"javascript-only\"\n}\n"}}],"shares":[],"lastSaveTime":1762478413724}